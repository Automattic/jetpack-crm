/*! For license information please see ZeroBSCRM.admin.editview.min.js.LICENSE.txt */
(()=>{var e={};jQuery(document).ready((function(){void 0!==window.zbsEditSettings&&(jQuery(".ui.dropdown").dropdown(),jQuery("#zbs-edit-save").off("click").on("click",(function(){zeroBSCRMJS_buildTagsInput(),window.zbscrmjsPageChangesSave=!0,jQuery("#zbs-edit-form").submit(),setTimeout((function(){window.zbscrmjsPageChangesSave=!1}),2e3)})),window.zbsDrawEditViewBlocker||(window.zbsDrawEditViewBlocker=!0,jQuery("#zbs-list-table-wrap").html(window.zbsDrawListLoadingBoxHTML),zeroBSCRMJS_buildTags(),setTimeout((function(){jQuery("#zbs-edit-notification-wrap .zbs-not-urgent").slideUp(300,(function(){0==jQuery("#zbs-edit-notification-wrap .ui.info:visible").length&&jQuery("#zbs-edit-notification-row").hide()}))}),1500)),jQuery(window).on("beforeunload",(function(){if(Object.keys(window.zbscrmjsPageChanges).length>0&&!window.zbscrmjsPageChangesSave)return"Are you sure you want to leave, you will loose unsaved changes?"})),void 0!==window.zbsEditSettings.objdbname&&("contact"==window.zbsEditSettings.objdbname?(document.getElementById("zbsc_profile-picture-file").addEventListener("change",jpcrm_customer_profile_picture_on_change),document.getElementById("zbsc_remove-profile-picture-button").addEventListener("click",jpcrm_customer_remove_profile_picture),jQuery(".send-sms-none").on("click",(function(e){swal("Twilio Extension Needed!",'To SMS your contacts you need the <a target="_blank" style="font-weight:900;text-decoration:underline;" href="https://jetpackcrm.com/extension-bundles/">Twilio extension</a> (included in our Entrepreneurs Bundle)',"info")})),jpcrm_bind_linkify()):"company"==window.zbsEditSettings.objdbname?jpcrm_bind_linkify():"event"==window.zbsEditSettings.objdbname&&setTimeout((function(){zeroBSCRMJS_events_showContactLinkIf(jQuery("#zbse_customer").val()),zeroBSCRMJS_events_showCompanyLinkIf(jQuery("#zbse_company").val())}),0)))}));function zeroBSCRMJS_editViewLang(e,n){if(void 0===n)n="";return void 0!==window.zbsEditViewLangLabels[e]?window.zbsEditViewLangLabels[e]:n}function jpcrm_customer_profile_picture_on_change(){document.getElementById("zbsc_remove-profile-picture").value=0,document.getElementById("empty-profile-picture").style.display="none",document.getElementById("profile-picture-img").style.display="inline-block",document.getElementById("profile-picture-img").src=window.URL.createObjectURL(document.getElementById("zbsc_profile-picture-file").files[0])}function jpcrm_customer_remove_profile_picture(){document.getElementById("zbsc_remove-profile-picture").value=1,document.getElementById("empty-profile-picture").style.display="inline-block",document.getElementById("profile-picture-img").style.display="none",document.getElementById("zbsc_profile-picture-file").value=null}function jpcrm_bind_linkify(){jQuery(".zbs-text-input input").keyup((function(){zeroBSCRMJS_initLinkify(this)})),jQuery(".zbs-text-input input").each((function(e,n){zeroBSCRMJS_initLinkify(n)}))}function zeroBSCRMJS_initLinkify(e){var n=jQuery(e).val(),i=!1;if(n.length>5){var t=zeroBSCRMJS_retrieveURLS(n);"object"==typeof t&&"null"!=typeof t&&null!=t&&"undefined"!=t[0]&&(jQuery(".zbs-linkify",jQuery(e).parent()).remove(),jQuery(e).parent().addClass("ui action input fluid").append('<button class="ui icon button zbs-linkify" type="button" data-url="'+encodeURI(t[0])+'" title="Go To '+encodeURI(t[0])+'"><i class="linkify icon"></i></button>'),jQuery(".zbs-linkify").off("click").on("click",(function(){var e=jQuery(this).attr("data-url");void 0!==e&&""!=e&&window.open(e,"_blank")})),i=!0)}i||(jQuery(".zbs-linkify",jQuery(e).parent()).remove(),jQuery(e).parent().removeClass("ui action input fluid"))}function zeroBSCRMJS_events_showContactLinkIf(e){if(jQuery(".zbs-task-for .zbs-view-contact").remove(),jQuery("#zbs-event-learn-nav .zbs-quicknav-contact").remove(),null!=e&&""!==e&&(e=parseInt(e))>0){var n='<div class="ui mini animated button zbs-view-contact">';n+='<div class="visible content">'+zeroBSCRMJS_editViewLang("view","View")+"</div>",n+='<div class="hidden content">',n+='<i class="user icon"></i>',n+="</div>",n+="</div>",jQuery(".zbs-task-for").prepend(n);var i='<a target="_blank" style="margin-left:6px;" class="zbs-quicknav-contact ui icon button blue mini labeled" href="'+window.zbsObjectViewLinkPrefixCustomer+e+'"><i class="user icon"></i> '+zeroBSCRMJS_editViewLang("contact","Contact")+"</a>";jQuery("#zbs-event-learn-nav").append(i),jQuery(".zbs-task-for .zbs-view-contact").off("click").on("click",(function(){var e=parseInt(jQuery("#zbse_customer").val());if(null!=e&&""!==e&&(e=parseInt(e))>0){var n=window.zbsObjectViewLinkPrefixCustomer+e;window.open(n,"_parent")}}))}}function zeroBSCRMJS_events_showCompanyLinkIf(e){if(jQuery(".zbs-task-for-company .zbs-view-company").remove(),jQuery("#zbs-event-learn-nav .zbs-quicknav-company").remove(),null!=e&&""!==e&&(e=parseInt(e))>0){var n='<div class="ui mini animated button zbs-view-company">';n+='<div class="visible content">'+zeroBSCRMJS_editViewLang("view","View")+"</div>",n+='<div class="hidden content">',n+='<i class="building icon"></i>',n+="</div>",n+="</div>",jQuery(".zbs-task-for-company").prepend(n);var i='<a target="_blank" style="margin-left:6px;" class="zbs-quicknav-contact ui icon button blue mini labeled" href="'+window.zbsObjectViewLinkPrefixCompany+e+'"><i class="user icon"></i> '+zeroBSCRMJS_editViewLang("company","Company")+"</a>";jQuery("#zbs-event-learn-nav").append(i),jQuery(".zbs-task-for-company .zbs-view-company").off("click").on("click",(function(){var e=parseInt(jQuery("#zbse_company").val());if(null!=e&&""!==e&&(e=parseInt(e))>0){var n=window.zbsObjectViewLinkPrefixCompany+e;window.open(n,"_parent")}}))}}var n=window="undefined"==typeof window?{}:window;for(var i in e)n[i]=e[i];e.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})();