/*! For license information please see ZeroBSCRM.admin.editview.min.js.LICENSE.txt */
(()=>{var e={542:e=>{function zeroBSCRMJS_initEditView(){jQuery(".ui.dropdown").dropdown(),jQuery("#zbs-edit-save").off("click").on("click",(function(){zeroBSCRMJS_buildTagsInput(),window.zbscrmjsPageChangesSave=!0,jQuery("#zbs-edit-form").submit(),setTimeout((function(){window.zbscrmjsPageChangesSave=!1}),2e3)})),zeroBSCRMJS_drawEditView(),zeroBSCRMJS_preLeaveEditView()}jQuery(document).ready((function(){void 0!==window.zbsEditSettings&&(zeroBSCRMJS_initEditView(),void 0!==window.zbsEditSettings.objdbname&&("contact"==window.zbsEditSettings.objdbname?(zeroBSCRMJS_editContactInit(),jpcrm_bind_linkify()):"company"==window.zbsEditSettings.objdbname?jpcrm_bind_linkify():"event"==window.zbsEditSettings.objdbname&&setTimeout((function(){zeroBSCRMJS_events_showContactLinkIf(jQuery("#zbse_customer").val()),zeroBSCRMJS_events_showCompanyLinkIf(jQuery("#zbse_company").val())}),0)))}));function zeroBSCRMJS_preLeaveEditView(){jQuery(window).on("beforeunload",(function(){if(Object.keys(window.zbscrmjsPageChanges).length>0&&!window.zbscrmjsPageChangesSave)return"Are you sure you want to leave, you will loose unsaved changes?"}))}function zeroBSCRMJS_editViewLang(e,i){if(void 0===i)i="";return void 0!==window.zbsEditViewLangLabels[e]?window.zbsEditViewLangLabels[e]:i}function zeroBSCRMJS_drawEditView(){window.zbsDrawEditViewBlocker||(window.zbsDrawEditViewBlocker=!0,jQuery("#zbs-list-table-wrap").html(window.zbsDrawListLoadingBoxHTML),zeroBSCRMJS_buildTags(),zeroBSCRMJS_hideNotificationsAfter())}function zeroBSCRMJS_editViewBinds(){}function zeroBSCRMJS_hideNotificationsAfter(){setTimeout((function(){jQuery("#zbs-edit-notification-wrap .zbs-not-urgent").slideUp(300,(function(){0==jQuery("#zbs-edit-notification-wrap .ui.info:visible").length&&jQuery("#zbs-edit-notification-row").hide()}))}),1500)}function zeroBSCRMJS_editContactInit(){var e=document.getElementById("zbsc_profile-picture-file");e&&e.addEventListener("change",jpcrm_customer_profile_picture_on_change);var i=document.getElementById("zbsc_remove-profile-picture-button");i&&i.addEventListener("click",jpcrm_customer_remove_profile_picture),jQuery(".send-sms-none").on("click",(function(e){swal("Twilio Extension Needed!",'To SMS your contacts you need the <a target="_blank" style="font-weight:900;text-decoration:underline;" href="https://jetpackcrm.com/extension-bundles/">Twilio extension</a> (included in our Entrepreneurs Bundle)',"info")}))}function jpcrm_customer_profile_picture_on_change(){document.getElementById("zbsc_remove-profile-picture").value=0,document.getElementById("empty-profile-picture").style.display="none",document.getElementById("profile-picture-img").style.display="inline-block",document.getElementById("profile-picture-img").src=window.URL.createObjectURL(document.getElementById("zbsc_profile-picture-file").files[0])}function jpcrm_customer_remove_profile_picture(){document.getElementById("zbsc_remove-profile-picture").value=1,document.getElementById("empty-profile-picture").style.display="inline-block",document.getElementById("profile-picture-img").style.display="none",document.getElementById("zbsc_profile-picture-file").value=null}function jpcrm_bind_linkify(){jQuery(".zbs-text-input input").keyup((function(){zeroBSCRMJS_initLinkify(this)})),jQuery(".zbs-text-input input").each((function(e,i){zeroBSCRMJS_initLinkify(i)}))}function zeroBSCRMJS_initLinkify(e){var i=jQuery(e).val(),n=!1;if(i.length>5){var t=zeroBSCRMJS_retrieveURLS(i);"object"==typeof t&&"null"!=typeof t&&null!=t&&"undefined"!=t[0]&&(jQuery(".zbs-linkify",jQuery(e).parent()).remove(),jQuery(e).parent().addClass("ui action input fluid").append('<button class="ui icon button zbs-linkify" type="button" data-url="'+encodeURI(t[0])+'" title="Go To '+encodeURI(t[0])+'"><i class="linkify icon"></i></button>'),zeroBSCRMJS_bindLinkify(),n=!0)}n||(jQuery(".zbs-linkify",jQuery(e).parent()).remove(),jQuery(e).parent().removeClass("ui action input fluid"))}function zeroBSCRMJS_bindLinkify(){jQuery(".zbs-linkify").off("click").on("click",(function(){var e=jQuery(this).attr("data-url");void 0!==e&&""!=e&&window.open(e,"_blank")}))}function zeroBSCRMJS_events_showContactLinkIf(e){if(jQuery(".zbs-task-for .zbs-view-contact").remove(),jQuery("#zbs-event-learn-nav .zbs-quicknav-contact").remove(),null!=e&&""!==e&&(e=parseInt(e))>0){var i='<div class="ui mini animated button zbs-view-contact">';i+='<div class="visible content">'+zeroBSCRMJS_editViewLang("view","View")+"</div>",i+='<div class="hidden content">',i+='<i class="user icon"></i>',i+="</div>",i+="</div>",jQuery(".zbs-task-for").prepend(i);var n='<a target="_blank" style="margin-left:6px;" class="zbs-quicknav-contact ui icon button blue mini labeled" href="'+window.zbsObjectViewLinkPrefixCustomer+e+'"><i class="user icon"></i> '+zeroBSCRMJS_editViewLang("contact","Contact")+"</a>";jQuery("#zbs-event-learn-nav").append(n),zeroBSCRMJS_events_bindContactLinkIf()}}function zeroBSCRMJS_events_bindContactLinkIf(){jQuery(".zbs-task-for .zbs-view-contact").off("click").on("click",(function(){var e=parseInt(jQuery("#zbse_customer").val());if(null!=e&&""!==e&&(e=parseInt(e))>0){var i=window.zbsObjectViewLinkPrefixCustomer+e;window.open(i,"_parent")}}))}function zeroBSCRMJS_events_showCompanyLinkIf(e){if(jQuery(".zbs-task-for-company .zbs-view-company").remove(),jQuery("#zbs-event-learn-nav .zbs-quicknav-company").remove(),null!=e&&""!==e&&(e=parseInt(e))>0){var i='<div class="ui mini animated button zbs-view-company">';i+='<div class="visible content">'+zeroBSCRMJS_editViewLang("view","View")+"</div>",i+='<div class="hidden content">',i+='<i class="building icon"></i>',i+="</div>",i+="</div>",jQuery(".zbs-task-for-company").prepend(i);var n='<a target="_blank" style="margin-left:6px;" class="zbs-quicknav-contact ui icon button blue mini labeled" href="'+window.zbsObjectViewLinkPrefixCompany+e+'"><i class="user icon"></i> '+zeroBSCRMJS_editViewLang("company","Company")+"</a>";jQuery("#zbs-event-learn-nav").append(n),zeroBSCRMJS_events_bindCompanyLinkIf()}}function zeroBSCRMJS_events_bindCompanyLinkIf(){jQuery(".zbs-task-for-company .zbs-view-company").off("click").on("click",(function(){var e=parseInt(jQuery("#zbse_company").val());if(null!=e&&""!==e&&(e=parseInt(e))>0){var i=window.zbsObjectViewLinkPrefixCompany+e;window.open(i,"_parent")}}))}e.exports={zbscrmjs_events_setContact:function(e){void 0!==e.id&&(jQuery("#zbse_customer").val(e.id),setTimeout((function(){zeroBSCRMJS_events_showContactLinkIf(e.id)}),0))},zbscrmjs_events_setCompany:function(e){void 0!==e.id&&(jQuery("#zbse_company").val(e.id),setTimeout((function(){zeroBSCRMJS_events_showCompanyLinkIf(e.id)}),0))},zbscrmjs_events_changeContact:function(e){void 0!==e&&""!=e||(jQuery("#zbse_customer").val(""),setTimeout((function(){zeroBSCRMJS_events_showContactLinkIf("")}),0))},zbscrmjs_events_changeCompany:function(e){void 0!==e&&""!=e||(jQuery("#zbse_company").val(""),setTimeout((function(){zeroBSCRMJS_events_showCompanyLinkIf("")}),0))},zeroBSCRMJS_initEditView:zeroBSCRMJS_initEditView,zeroBSCRMJS_preLeaveEditView:zeroBSCRMJS_preLeaveEditView,zeroBSCRMJS_editViewLang:zeroBSCRMJS_editViewLang,zeroBSCRMJS_drawEditView:zeroBSCRMJS_drawEditView,zeroBSCRMJS_editViewBinds:zeroBSCRMJS_editViewBinds,zeroBSCRMJS_hideNotificationsAfter:zeroBSCRMJS_hideNotificationsAfter,zeroBSCRMJS_editContactInit:zeroBSCRMJS_editContactInit,jpcrm_customer_profile_picture_on_change:jpcrm_customer_profile_picture_on_change,jpcrm_customer_remove_profile_picture:jpcrm_customer_remove_profile_picture,jpcrm_bind_linkify:jpcrm_bind_linkify,zeroBSCRMJS_initLinkify:zeroBSCRMJS_initLinkify,zeroBSCRMJS_bindLinkify:zeroBSCRMJS_bindLinkify,zeroBSCRMJS_events_showContactLinkIf:zeroBSCRMJS_events_showContactLinkIf,zeroBSCRMJS_events_bindContactLinkIf:zeroBSCRMJS_events_bindContactLinkIf,zeroBSCRMJS_events_showCompanyLinkIf:zeroBSCRMJS_events_showCompanyLinkIf,zeroBSCRMJS_events_bindCompanyLinkIf:zeroBSCRMJS_events_bindCompanyLinkIf,zbscrmjsPageChangesSave:!1}}},i={};var n=function __webpack_require__(n){var t=i[n];if(void 0!==t)return t.exports;var o=i[n]={exports:{}};return e[n](o,o.exports,__webpack_require__),o.exports}(542),t=window="undefined"==typeof window?{}:window;for(var o in n)t[o]=n[o];n.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})})();