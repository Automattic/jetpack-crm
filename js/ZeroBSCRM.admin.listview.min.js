/*! For license information please see ZeroBSCRM.admin.listview.min.js.LICENSE.txt */
(()=>{var i={};function zeroBSCRMJS_fireSearch(){const i=jQuery("#zbs-listview-search").val();""!=i&&function(i){let t=-1;void 0!==window.zbsListViewParams.filters.s&&(t=window.zbsListViewParams.filters.s);if(window.zbsListViewParams.filters.s=i,zeroBSCRMJS_isArray(window.zbsListViewParams.filters)){const t={s:i};void 0!==window.zbsListViewParams.filters.tags&&(t.tags=window.zbsListViewParams.filters.tags),window.zbsListViewParams.filters=t}-1!=t&&t==i||(window.zbsListViewParams.retrieved=!1,zeroBSCRMJS_drawListView())}(i)}function zeroBSCRMJS_listview_generateCurrentFilterURL(i,t){var e=window.zbsListViewLink,s="",o="",n="";if(window.zbsListViewSettings.tags){s="";void 0!==window.zbsListViewParams.filters.tags&&window.zbsListViewParams.filters.tags.length>0&&jQuery.each(window.zbsListViewParams.filters.tags,(function(i,t){""!=s&&(s+=","),void 0!==t.term_id?s+=t.term_id:void 0!==t.id&&(s+=t.id)}))}if(window.zbsListViewSettings.filters){o="";void 0!==window.zbsListViewParams.filters.quickfilters&&window.zbsListViewParams.filters.quickfilters.length>0&&jQuery.each(window.zbsListViewParams.filters.quickfilters,(function(i,t){""!=o&&(o+=","),o+=t}))}if(window.zbsListViewSettings.search){n="";void 0!==window.zbsListViewParams.filters.s&&""!=window.zbsListViewParams.filters.s&&(n=window.zbsListViewParams.filters.s)}return""!=s&&"undefined"!=s&&(e+=window.zbsListViewTagFilterAffix+s),""!=n&&"undefined"!=n&&(e+=window.zbsListViewSearchFilterAffix+encodeURIComponent(n)),void 0!==t&&t||""!=o&&(e+=window.zbsListViewQuickFilterAffix+o),void 0!==i&&i||void 0!==window.zbsListViewParams.sort&&(e+="&sort="+window.zbsListViewParams.sort,void 0!==window.zbsListViewParams.sortorder&&"asc"==window.zbsListViewParams.sortorder&&(e+="&sortdirection=asc")),e}function zeroBSCRMJS_listViewLang(i,t){if(void 0===t)t="";return void 0!==window.zbsListViewLangLabels[i]?window.zbsListViewLangLabels[i]:void 0!==window.zbs_root.lang[i]?window.zbs_root.lang[i]:t}function zeroBSCRMJS_drawListView(){window.zbsDrawListViewBlocker||(jQuery("#zbsNoResults").addClass("hidden").appendTo("#zbs-list-warnings-wrap"),window.zbsDrawListViewBlocker=!0,jQuery("#zbs-list-table-wrap").html(window.zbsDrawListLoadingBoxHTML),window.zbsListViewParams.retrieved||function(i,t){if(!window.zbsDrawListViewAJAXBlocker){window.zbsDrawListViewAJAXBlocker=!0;const e={action:"retrieveListViewData",sec:window.zbscrmjs_secToken,v:window.zbsListViewParams};jQuery.ajax({type:"POST",url:ajaxurl,data:e,dataType:"json",timeout:2e4,success:function(e){null!=e&&void 0!==e.objects?(window.zbsListViewData=e.objects,void 0!==e.objectcount?window.zbsListViewCount=e.objectcount:window.zbsListViewCount=0,void 0!==e.totals?window.jpcrm_totals_table=e.totals:window.jpcrm_totals_table=!1):(console.error("Failed to retrieve object data!",e),"function"==typeof t&&t(e)),"function"==typeof i&&i(e),window.zbsDrawListViewAJAXBlocker=!1},error:function(i){console.error("List View Data Retrieve Error: ",i),"function"==typeof t&&t(i),window.zbsDrawListViewAJAXBlocker=!1}})}}((function(i){const t={};let e="";e+='<div class="jpcrm-listview-actions">',e+=zeroBSCRMJS_listViewBulkActions(),e+=zeroBSCRMJS_listViewPagination(),e+="</div>",e+='<table class="ui celled table unstackable">',e+=function(){var i="";if(window.zbsListViewParams.columns.length>0){i="";i+="      <thead>",i+="        <tr>",void 0!==window.zbsBulkActions&&window.zbsBulkActions.length>0&&(i+='<th class="zbs-listview-bulk-hd"><div class="ui fitted checkbox"><input type="checkbox" id="jpcrm-bulk-select" /><label for="jpcrm-bulk-select"></label></div></th>'),jQuery.each(window.zbsListViewParams.columns,(function(t,e){let s=e.namestr;if(void 0!==window.zbsSortables&&window.zbsSortables.indexOf(e.fieldstr)>-1)if(void 0!==window.zbsListViewParams.sort&&window.zbsListViewParams.sort==e.fieldstr){let i="down",t="asc";void 0!==window.zbsListViewParams.sortorder&&"asc"==window.zbsListViewParams.sortorder&&(i="up",t="desc"),s+=' <a href="'+zeroBSCRMJS_listview_generateCurrentFilterURL(!0)+"&sort="+e.fieldstr+"&sortdirection="+t+'" title="Click to Sort"><i class="angle '+i+' icon"></i></a>'}else s=' <a href="'+zeroBSCRMJS_listview_generateCurrentFilterURL(!0)+"&sort="+e.fieldstr+'" title="Click to Sort">'+s+"</a>";i+="        <th>"+s+"</th>"})),i+="      </tr></thead>"}return i}(),e+="<tbody>",window.zbsListViewData.length>0?jQuery.each(window.zbsListViewData,(function(i,t){e+=function(i){var t="";if(window.zbsListViewParams.columns.length>0){let e="";void 0!==i.id&&(e+=' data-id="'+i.id+'"');t="<tr"+e+">";void 0!==window.zbsBulkActions&&window.zbsBulkActions.length>0&&(t+='<td class="zbs-listview-bulk"><div class="ui fitted checkbox"><input type="checkbox" id="zbsbulk'+i.id+'" data-entityid="'+i.id+'" class="zbsbulkcb" /><label for="zbsbulk'+i.id+'"></label></div></td>'),jQuery.each(window.zbsListViewParams.columns,(function(e,s){var o="zeroBSCRMJS_listView_"+window.zbsListViewSettings.objdbname+"_"+s.fieldstr;if("function"==typeof window[o])t+=window[o](i);else{o="zeroBSCRMJS_listView_generic_"+s.fieldstr;"function"==typeof window[o]?t+=window[o](i):void 0!==i[s.fieldstr+"_cfdate"]&&null!=i[s.fieldstr+"_cfdate"]&&"null"!=i[s.fieldstr+"_cfdate"]?t+="<td>"+jpcrm_abbreviate_str(i[s.fieldstr+"_cfdate"],80,"...","return")+"</td>":void 0!==i[s.fieldstr]&&null!=i[s.fieldstr]&&"null"!=i[s.fieldstr]?t+="<td>"+jpcrm_abbreviate_str(i[s.fieldstr],80,"...","return")+"</td>":t+="<td></td>"}})),t+="</tr>"}return t}(t)})):jQuery("#zbsNoResults").length&&(e+='<tr><td colspan="'+window.zbsListViewParams.columns.length+'" id="zbs-no-results-wrap">',t.nores=!0,e+="</td></tr>"),e+="</tbody>",e+=function(){let i="";i+='<tfoot><tr><th colspan="'+(window.zbsListViewParams.columns.length+1)+'">';let t=window.zbsListViewObjName;(window.zbsListViewCount>1||0==window.zbsListViewCount)&&(t=window.zbsListViewObjNamePlural);return i+='<div id="zbs-listview-footer-count">'+zbscrmjs_prettifyLongInts(window.zbsListViewCount)+" "+t+"</div>",i+="</th>",i+="</tr></tfoot>",i}(),e+="</table>",zbsListViewData.length>9&&(e+='<div class="jpcrm-listview-actions">',e+=zeroBSCRMJS_listViewBulkActions(),e+=zeroBSCRMJS_listViewPagination(),e+="</div>"),jQuery("#zbs-list-table-wrap").html(e),setTimeout((function(){t.nores,jQuery("#zbsNoResults").appendTo("#zbs-no-results-wrap").removeClass("hidden"),function(){jQuery("#jpcrm-bulk-select").on("change",(function(){jQuery(".zbs-listview-bulk input:checkbox").prop("checked",jQuery(this).prop("checked")),zeroBSCRMJS_listView_bulkActionsUpdate()})),jQuery(".zbs-listview-bulk input:checkbox").on("click",(function(){zeroBSCRMJS_listView_bulkActionsUpdate()})),void 0!==window.zbsListViewSettings.editinline&&window.zbsListViewSettings.editinline&&zeroBSCRMJS_bindInlineEditing();let i="";void 0!==window.zbsListViewParams&&void 0!==window.zbsListViewParams.listtype&&(i="zeroBSCRMJS_listView_postRender_"+window.zbsListViewParams.listtype);""!=i&&"function"==typeof window[i]&&window[i]()}()}),0),function(){let i="";if(void 0!==window.zbsListViewParams.filters.s&&""!=window.zbsListViewParams.filters.s&&(i+=zeroBSCRMJS_listViewLang("containing","Containing")+' "<span>'+window.zbsListViewParams.filters.s+'</span>"'),void 0!==window.zbsListViewParams.filters.tags&&window.zbsListViewParams.filters.tags.length>0){""!=i&&(i+=" and "),i+="Tagged ";let t="";jQuery.each(window.zbsListViewParams.filters.tags,(function(i,e){""!=t&&(t+=", "),t+='"<span>'+e.name+'</span>"'})),i+=t}if(void 0!==window.zbsListViewParams.filters.quickfilters&&window.zbsListViewParams.filters.quickfilters.length>0){""!=i&&(i+=" and "),i+=zeroBSCRMJS_listViewLang("filteredby","Filtered by")+": ";let t="";jQuery.each(window.zbsListViewParams.filters.quickfilters,(function(i,e){if(""!=t&&(t+=","),"notcontactedin"==e.substr(0,14)){const i=e.substr(14);t+=zeroBSCRMJS_listViewLang("notcontactedin","Not Contacted in")+" "+i+" "+zeroBSCRMJS_listViewLang("days","days")}else{const i=e.replace(/_/g," ");t+=zeroBSCRMJS_ucwords(i)}})),i+=t}""!=i&&(i='<h5 class="ui header blue"><i class="filter icon"></i>'+i+"</h5>"),jQuery("#zbs-listview-biline").html(i),""!=i?(jQuery("#zbs-listview-biline").show(),jQuery("#zbs-listview-clearfilters, #zbs-listview-biline").removeClass("zbs-hide").removeClass("hidden")):(jQuery("#zbs-listview-biline").hide(),jQuery("#zbs-listview-clearfilters, #zbs-listview-biline").addClass("zbs-hide").addClass("hidden"))}(),function(){if(jQuery("#jpcrm-listview-totals-box").html(""),void 0!==window.jpcrm_totals_table&&null!==window.jpcrm_totals_table){let i="",t="";jQuery(".jpcrm-listview-totals-box-divider").show(),void 0!==window.jpcrm_totals_table.quotes_total_formatted&&null!==window.jpcrm_totals_table.quotes_total_formatted&&(i+="<tr><td>"+zeroBSCRMJS_listViewLang("quotes")+"</td><td>"+window.jpcrm_totals_table.quotes_total_formatted+"</td></tr>"),void 0!==window.jpcrm_totals_table.invoices_total_formatted&&null!==window.jpcrm_totals_table.invoices_total_formatted&&(i+="<tr><td>"+zeroBSCRMJS_listViewLang("invoices")+"</td><td>"+window.jpcrm_totals_table.invoices_total_formatted+"</td></tr>"),void 0!==window.jpcrm_totals_table.transactions_total_formatted&&null!==window.jpcrm_totals_table.transactions_total_formatted&&(i+="<tr><td>"+zeroBSCRMJS_listViewLang("transactions")+"</td><td>"+window.jpcrm_totals_table.transactions_total_formatted+"</td></tr>"),void 0!==window.jpcrm_totals_table.total_sum_formatted&&null!==window.jpcrm_totals_table.total_sum_formatted&&(t="<tfoot><tr><td>"+zeroBSCRMJS_listViewLang("total")+"</td><td>"+window.jpcrm_totals_table.total_sum_formatted+"</td></tr></tfoot>"),""!==i&&jQuery("#jpcrm-listview-totals-box").html("<h4>"+zeroBSCRMJS_listViewLang("totals")+'</h4><table class="ui compact definition table"><tbody>'+i+"</tbody>"+t+"</table>")}else jQuery(".jpcrm-listview-totals-box-divider").hide()}(),window.zbsDrawListViewBlocker=!1}),(function(i){jQuery("#zbsCantLoadData").show(),jQuery("#zbs-list-table-wrap, #zbs-list-sidebar-wrap").hide(),window.zbsDrawListViewBlocker=!1})))}function zeroBSCRMJS_listViewBulkActions(){return zbsBulkActions&&0!=zbsBulkActions.length?(html='<div class="jpcrm-bulk-actions">                        <select class="jpcrm-bulk-actions-dropdown" disabled>                            <option>'+zeroBSCRMJS_listViewLang("rows_selected_0")+'</option>                        </select>                        <button disabled class="jpcrm-bulk-actions-button ui tiny button primary" style="margin-left:0.4em">'+zeroBSCRMJS_listViewLang("go_button")+"</button>                    </div>",html):""}function zeroBSCRMJS_listViewPagination(){const i=Math.ceil(zbsListViewCount/zbsListViewParams.count);if(i<=1)return"";let t="";const e=zbsListViewParams.paged,s=zeroBSCRMJS_listview_generateCurrentFilterURL();pages_to_add=[],pages_to_add=i<9?Array.from(Array(i),((i,t)=>t+1)):e<=4?[1,2,3,4,5,"...",i]:e>i-4?[1,"...",i-4,i-3,i-2,i-1,i]:[1,"...",e-1,e,e+1,"...",i],t+='<div class="ui right floated pagination menu">',t+=e>1?'<a class="icon item" href="'+s+"&paged="+(e-1)+'">':'<a class="icon item disabled">',t+='<i class="left chevron icon"></i>',t+="</a>";for(let i=0;i<pages_to_add.length;i++)"..."==pages_to_add[i]?t+='<a class="item disabled">...</a>':t+='<a class="item'+(pages_to_add[i]==e?" active":"")+'" href="'+s+"&paged="+pages_to_add[i]+'">'+pages_to_add[i]+"</a>";return t+=i>e?'<a class="icon item" href="'+s+"&paged="+(e+1)+'">':'<a class="icon item disabled">',t+='<i class="right chevron icon"></i>',t+="</a>",t+="</div>",t}function zeroBSCRMJS_listView_bulkActionsUpdate(){const i=zeroBSCRMJS_listView_bulkActionsGetChecked();let t=zeroBSCRMJS_listViewLang("rows_selected_x").replace("%s",i.length);1==i.length?t=zeroBSCRMJS_listViewLang("rows_selected_1"):0==i.length&&(t=zeroBSCRMJS_listViewLang("rows_selected_0"));let e="<option value disabled selected>"+t+"</option>";zbsBulkActions.forEach((function(t){if("merge"==t&&2!=i.length)return;let s="",o="zeroBSCRMJS_listView_generic_bulkActionTitle_"+t;"function"==typeof window[o]?s=window[o]():(o="zeroBSCRMJS_listView_"+window.zbsListViewSettings.objdbname+"_bulkActionTitle_"+t,s="function"==typeof window[o]?window[o]():t),e+='<option value="'+t+'">'+s+"</option>"})),jQuery(".jpcrm-bulk-actions-dropdown").html(e),bulk_actions_els=document.querySelectorAll(".jpcrm-bulk-actions-dropdown, .jpcrm-bulk-actions-button");for(let t=0;t<bulk_actions_els.length;t++)bulk_actions_els[t].disabled=0==i.length;setTimeout((function(){jQuery(".jpcrm-bulk-actions-button").off("click").on("click",(function(){const i=this.parentElement.querySelector(".jpcrm-bulk-actions-dropdown option:checked").value;if(""==i)return;const t="zeroBSCRMJS_listView_generic_bulkActionFire_"+i;if("function"==typeof window[t])window[t]();else{const t="zeroBSCRMJS_listView_"+window.zbsListViewSettings.objdbname+"_bulkActionFire_"+i;window[t]()}}))}),0)}function zeroBSCRMJS_listView_bulkActionsGetChecked(){const i=[];return jQuery(".zbs-listview-bulk input:checkbox").each((function(t,e){jQuery(e).is(":checked")&&i.push(jQuery(e).attr("data-entityid"))})),i}void 0!==window.zbsListViewCount&&null!==window.zbsListViewCount||(window.zbsListViewCount=0),jQuery((function(){void 0!==window.zbsListViewSettings&&function(){jQuery("#zbs-screenoptions-records-per-page").off("change").on("change",(function(){zeroBSCRMJS_saveScreenOptions((function(){window.zbsListViewParams.retrieved=!1,zbsListViewParams.count=parseInt(document.getElementById("zbs-screenoptions-records-per-page").value),zeroBSCRMJS_drawListView()}))})),jQuery("#zbs-columnmanager-bottomsave").off("click").on("click",(function(){jQuery("#zbs-open-column-manager").trigger("click")})),jQuery("#zbs-open-column-manager").off("click").on("click",(function(){jQuery("#zbs-list-col-editor").is(":visible")?(jQuery(this).addClass("blue").removeClass("teal"),jQuery("#zbs-list-col-editor").hide()):(jQuery(this).removeClass("blue").addClass("teal"),jQuery("#zbs-list-col-editor").show())})),jQuery("#zbs-toggle-sidebar").on("click",(function(){window.zbscrmjs_sidebarChangeBlocker||(window.zbscrmjs_sidebarChangeBlocker=!0,1==window.zbscrmjs_sidebarState?(jQuery("#zbs-list-sidebar-wrap").hide(),jQuery("#zbs-list-table-wrap").removeClass().addClass("sixteen wide column"),jQuery(this).html('<i class="toggle on icon"></i>'),window.zbscrmjs_sidebarState=-1):(jQuery("#zbs-list-sidebar-wrap").show(),jQuery("#zbs-list-table-wrap").removeClass().addClass("twelve wide column"),jQuery(this).html('<i class="toggle off icon"></i>'),window.zbscrmjs_sidebarState=1),setTimeout((function(){window.zbscrmjs_sidebarChangeBlocker=!1}),0))})),void 0!==window.zbsListViewSettings&&void 0!==window.zbsListViewSettings.filters&&window.zbsListViewSettings.filters&&(jQuery("#zbs-list-view-edit-filters").on("click",(function(){jQuery("#zbs-list-view-edit-filters-wrap, #zbs-list-filters, #zbs-list-filters-edit-title").toggle(),setTimeout((function(){jQuery("#zbs-list-view-edit-filters").hasClass("active")?jQuery("#zbs-list-view-edit-filters").removeClass("active"):jQuery("#zbs-list-view-edit-filters").addClass("active")}),0)})),zeroBSCRMJS_drawFilterButtons());jQuery("#zbs-column-manager-available-cols .zbs-column-manager-connected, #zbs-column-manager-current-cols").sortable({connectWith:".zbs-column-manager-connected",items:".zbs-column-manager-col",placeholder:"ui compact tiny button zbs-column-manager-droptarget",stop:function(i,t){!function(i,t){if(!window.zbsDrawListViewColUpdateBlocker){window.zbsDrawListViewColUpdateBlocker=!0;const e=[];jQuery("#zbs-column-manager-current-cols .zbs-column-manager-col").each((function(i,t){e.push({fieldstr:jQuery(t).attr("data-key"),namestr:jQuery(t).html()})}));let s=!1;JSON.stringify(window.zbsListViewParams.columns)!==JSON.stringify(e)&&(s=!0),s?(window.zbsListViewParams.columns=e,"function"==typeof i&&i(e)):"function"==typeof t&&t(e),window.zbsDrawListViewColUpdateBlocker=!1}}((function(i){jQuery("#zbs-col-manager-loading").show(),jQuery("#zbsCantSaveCols").hide(),function(i,t){if(!window.zbsDrawListViewColUpdateAJAXBlocker){window.zbsDrawListViewColUpdateAJAXBlocker=!0;const e={action:"updateListViewColumns",sec:window.zbscrmjs_secToken,listtype:window.zbsListViewParams.listtype,v:window.zbsListViewParams.columns};jQuery.ajax({type:"POST",url:ajaxurl,data:e,dataType:"json",timeout:2e4,success:function(t){window.zbsListViewParams.columns=t,"function"==typeof i&&i(t),window.zbsDrawListViewColUpdateAJAXBlocker=!1},error:function(i){console.error("Column Data update Error: ",i),"function"==typeof t&&t(i),window.zbsDrawListViewColUpdateAJAXBlocker=!1}})}}((function(i){jQuery("#zbs-col-manager-loading").hide(),window.zbsListViewParams.retrieved=!1,zeroBSCRMJS_drawListView()}),(function(i){jQuery("#zbs-col-manager-loading").hide(),jQuery("#zbsCantSaveCols").show()}))}),(function(i){}))}}).disableSelection(),zeroBSCRMJS_drawListView(),jQuery("#zbs-listview-runsearch").off("click").on("click",(function(){zeroBSCRMJS_fireSearch()})),void jQuery("#zbs-listview-search").on("keypress",(function(i){if(13==i.which)return zeroBSCRMJS_fireSearch(),!1})),window.zbsListViewSettings.filters&&jQuery("#zbs-list-view-filter-options-current, #zbs-list-view-filter-options-available").sortable({connectWith:".zbs-filter-manager-connected",stop:function(i,t){!function(i,t){if(!window.zbsDrawFilterButtonUpdateBlocker){window.zbsDrawFilterButtonUpdateBlocker=!0;const e=[];jQuery("#zbs-list-view-filter-options-current .zbs-filter-button-manager-button").each((function(i,t){e.push({fieldstr:jQuery(t).attr("data-key"),namestr:jQuery(t).html()})}));let s=!1;JSON.stringify(window.zbsFilterButtons)!==JSON.stringify(e)&&(s=!0),s?(window.zbsFilterButtons=e,"function"==typeof i&&i(e)):"function"==typeof t&&t(e),window.zbsDrawFilterButtonUpdateBlocker=!1}}((function(i){jQuery("#zbs-filter-button-manager-loading").show(),jQuery("#zbsCantSaveCols").hide(),function(i,t){if(!window.zbsDrawFilterButtonUpdateAJAXBlocker){window.zbsDrawFilterButtonUpdateAJAXBlocker=!0;const e={action:"updateListViewFilterButtons",sec:window.zbscrmjs_secToken,listtype:window.zbsListViewParams.listtype,new_filter_buttons:window.zbsFilterButtons};jQuery.ajax({type:"POST",url:ajaxurl,data:e,dataType:"json",timeout:2e4,success:function(t){window.zbsFilterButtons=t,"function"==typeof i&&i(t),window.zbsDrawFilterButtonUpdateAJAXBlocker=!1},error:function(i){console.error("Column Data update Error: ",i),"function"==typeof t&&t(i),window.zbsDrawFilterButtonUpdateAJAXBlocker=!1}})}}((function(i){jQuery("#zbs-filter-button-manager-loading").hide(),zeroBSCRMJS_drawFilterButtons()}),(function(i){jQuery("#zbs-filter-button-manager-loading").hide(),jQuery("#zbsCantSaveButtons").show()}))}),(function(i){}))}}).disableSelection()}()}));function zeroBSCRMJS_drawFilterButtons(){let i="";jQuery.each(window.zbsFilterButtons,(function(t,e){let s="olive",o=!1,n="&quickfilters="+e.fieldstr;void 0!==window.zbsListViewParams.filters.quickfilters&&window.zbsListViewParams.filters.quickfilters.indexOf(e.fieldstr)>-1&&(s="green",o=!0,n=""),i+='<a href="'+zeroBSCRMJS_listview_generateCurrentFilterURL(!0,o)+n+'" class="ui '+s+' button tiny">'+e.namestr+"</a>"})),jQuery("#zbs-list-filters").html(i)}function zeroBSCRMJS_bindInlineEditing(){jQuery("#zbs-list-wrap td.zbs-inline-edit").off("click").on("click",(function(){if(jQuery(this).hasClass("zbs-editing"));else{const t=jQuery(this).attr("data-col"),e=jQuery(this).attr("data-val");if(void 0!==t&&""!=t){let s="";var i="zeroBSCRMJS_listView_"+window.zbsListViewSettings.objdbname+"_edit_"+t;if("function"==typeof window[i])s=window[i](e);else{i="zeroBSCRMJS_listView_generic_edit_"+t;"function"==typeof window[i]&&(s=window[i](e))}if(""!=s){const i=this;jQuery(this).html(s),jQuery(this).removeClass("zbs-inline-edit").addClass("zbs-inline-editing"),jQuery(this).off("click"),jQuery(".zbs-listview-inline-edit-field").off("blur").blur((function(){const i=this,t=parseInt(jQuery(this).closest("tr").attr("data-id")),e=jQuery(this).closest(".zbs-inline-editing").attr("data-col"),s=jQuery(this).val(),o=jQuery(":selected",this).text(),n=jQuery(this).closest(".zbs-inline-editing").attr("data-val");if(s!=n)t>0&&""!=e&&function(i,t,e,s,o){if(!window.zbListViewInlineEditorAJAXBlocker){window.zbListViewInlineEditorAJAXBlocker=!0;const n={action:"zbs_list_save_inline_edit",sec:window.zbscrmjs_secToken,listtype:window.zbsListViewParams.listtype,id:i,field:t,v:e};jQuery.ajax({type:"POST",url:ajaxurl,data:n,dataType:"json",timeout:2e4,success:function(i){"function"==typeof s&&s(i),window.zbListViewInlineEditorAJAXBlocker=!1},error:function(i){"function"==typeof o&&o(i),window.zbListViewInlineEditorAJAXBlocker=!1}})}}(t,e,s,(function(){const t=o;jQuery(i).closest(".zbs-inline-editing").html(t).removeClass("zbs-inline-editing").addClass("zbs-inline-edit"),zeroBSCRMJS_bindInlineEditing()}),(function(){swal(zeroBSCRMJS_listViewLang("couldntupdate"),zeroBSCRMJS_listViewLang("couldntupdatedeets"),"warning")}));else{const t=o;jQuery(i).closest(".zbs-inline-editing").html(t).removeClass("zbs-inline-editing").addClass("zbs-inline-edit"),zeroBSCRMJS_bindInlineEditing()}})),setTimeout((function(){jQuery("select",i).focus()}),100)}}}}))}var t=window="undefined"==typeof window?{}:window;for(var e in i)t[e]=i[e];i.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})})();