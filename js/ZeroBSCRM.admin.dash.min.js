/*! For license information please see ZeroBSCRM.admin.dash.min.js.LICENSE.txt */
(()=>{var a={619:a=>{function jetpackcrm_draw_contact_chart(a){window.contactChart.data.labels=a.labels,window.contactChart.data.datasets[0].data=a.data,window.contactChart.update()}jQuery((function(a){window.dash_security=jQuery("#zbs_dash_count_security").val();var t=document.getElementById("growth-chart");t&&(window.contactChart=new Chart(t,{type:"bar",data:{labels:"",datasets:[{label:"",backgroundColor:"#00a0d2",data:""}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},title:{display:!1,text:""},scales:{yAxes:[{display:!0,ticks:{beginAtZero:!0}}]}}}),jQuery(".contact-display-chooser .day-or-month .button").on("click",(function(a){jQuery(".contact-display-chooser .day-or-month .button").removeClass("selected"),jQuery(this).addClass("selected"),range=jQuery(this).attr("data-range"),"yearly"==range&&jetpackcrm_draw_contact_chart(window.yearly),"monthly"==range&&jetpackcrm_draw_contact_chart(window.monthly),"weekly"==range&&jetpackcrm_draw_contact_chart(window.weekly),"daily"==range&&jetpackcrm_draw_contact_chart(window.daily)}))),jQuery(".dashboard-customiser").on("click",(function(a){jQuery(".dashboard-custom-choices").toggle()})),jQuery(".dashboard-custom-choices input").on("click",(function(a){var t=jQuery(this).attr("id");jQuery("#"+t+"_display").toggle();var e=-1;jQuery("#"+t).is(":checked")&&(e=1);var r={action:"zbs_dash_setting",is_checked:e,the_setting:t,security:jQuery("#zbs_dash_setting_security").val()};jQuery.ajax({type:"POST",url:ajaxurl,data:r,dataType:"json",timeout:2e4,success:function(a){},error:function(a){}})})),jQuery((function(){function cb(a,t){zbsStrokeColor=zbsJS_admcolours.colors[0],jQuery("#reportrange span").html(a.format("MMM D Y")+" - "+t.format("MMM D Y"));var e=a.format("Y-MM-DD"),r=t.format("Y-MM-DD");jQuery(".loading").css("color",zbsStrokeColor).show();var c={action:"jetpackcrm_dash_refresh",start_date:e,end_date:r,security:window.dash_security};o=jQuery.ajax({url:ajaxurl,type:"POST",data:c,dataType:"json"}),o.done((function(a){window.yearly=a.chart.yearly,window.monthly=a.chart.monthly,window.weekly=a.chart.weekly,window.daily=a.chart.daily,jQuery("#crm_summary_numbers").addClass(a.boxes),summary_html="";for(var t=0;t<a.summary.length;t++)item=a.summary[t],summary_html+='                            <div class="card center aligned">                                <div class="content">                                    <h3 class="ui header">'+item.label+'</h3>                                    <div class="range_total">+'+item.range_total+'</div>                                    <div class="text-muted alltime_total">'+item.alltime_total_str+'</div>                                </div>                                <div class="ui bottom attached button">                                    <a href="'+item.link+'">                                        <i class="unhide icon"></i>                                        '+zeroBSCRMJS_globViewLang("viewall")+"                                    </a>                                </div>                            </div>                      ";jQuery("#crm_summary_numbers").html(summary_html),window.contactChart&&jetpackcrm_draw_contact_chart(a.chart.monthly)})),o.fail((function(a){}))}cb(moment().subtract(1,"year"),moment()),jpcrm_js_bind_daterangepicker({maxDate:moment()},cb)})),jQuery("#daterange").on("apply.daterangepicker",(function(a,t){jQuery("#zbs_from").val(t.startDate.format("YYYY-MM-DD HH:mm:ss")),jQuery("#zbs_to").val(t.endDate.format("YYYY-MM-DD HH:mm:ss"))})),window.jpcrm_show_first_use_dash&&(jQuery("#jpcrm-first-use-dash").modal("show").modal("refresh"),jQuery(".jpcrm-modal-close").on("click",(function(){jQuery("#jpcrm-first-use-dash").modal("hide")})))})),a.exports={jetpackcrm_draw_contact_chart:jetpackcrm_draw_contact_chart}}},t={};var e=function __webpack_require__(e){var r=t[e];if(void 0!==r)return r.exports;var o=t[e]={exports:{}};return a[e](o,o.exports,__webpack_require__),o.exports}(619),r=window="undefined"==typeof window?{}:window;for(var c in e)r[c]=e[c];e.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();