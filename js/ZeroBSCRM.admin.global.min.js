/*! For license information please see ZeroBSCRM.admin.global.min.js.LICENSE.txt */
(()=>{var e={195:e=>{function jpcrm_dismiss_woo_notice(){jQuery(document).on("click","#woo-promo .notice-dismiss",(function(e){data={action:"jpcrm_hide_woo_promo"},jQuery.post(ajaxurl,data,(function(e){}))}))}function jpcrm_dismiss_tracking_notice(){jQuery(document).on("click","#track-notice .notice-dismiss",(function(e){data={action:"jpcrm_hide_track_notice"},jQuery.post(ajaxurl,data,(function(e){}))}))}function jpcrm_dismiss_feature_alert(){jQuery(document).on("click",".jpcrm_feature_alert .notice-dismiss",(function(e){data={action:"jpcrm_hide_feature_alert",feature_alert:this.parentElement.id},jQuery.post(ajaxurl,data,(function(e){}))}))}function zbscrm_JS_momentInit(){if(void 0!==window.zbs_root.locale_short&&"en"!=window.zbs_root.locale_short)moment.locale(window.zbs_root.locale_short);var e=0;if(void 0!==window.zbs_root.timezone_offset_mins)e=parseInt(window.zbs_root.timezone_offset_mins);jQuery(".zbs-datemoment-since").each((function(n,t){if(jQuery(this).attr("data-zbs-created-uts")){var r=parseInt(jQuery(this).attr("data-zbs-created-uts"));if(r>0){var i=moment.unix(r).utcOffset(e);jQuery(this).html(i.fromNow())}}}))}jQuery((function(){zbscrm_JS_momentInit(),zbscrm_JS_infoBoxInit(),zbscrm_JS_Bind_Typeaheads(),zbscrm_JS_bindDateRangePicker(),zbscrm_JS_bindFieldValidators(),zbscrm_JS_bindCloseLogs(),zbscrm_JS_watchInputsAndDirty(),zbscrm_JS_dirtyCatch(),zbscrm_JS_adminMenuDropdown(),zeroBSCRMJS_bindScreenOptions(),zeroBSCRMJS_bindGlobalObjFuncs(),zeroBSCRMJS_bindGlobalDismiss(),jpcrm_bind_licensing_modals(),jpcrm_dismiss_woo_notice(),jpcrm_dismiss_tracking_notice(),jpcrm_dismiss_feature_alert(),jpcrm_bind_customfield_csv_builders(),jpcrm_bind_generic_window_opening()})),jQuery.fn.insertIntoTextArea=function(e){return this.each((function(){if(selectionStart=this.selectionStart,selectionEnd=this.selectionEnd,do_select=selectionStart!=selectionEnd,old_val=this.value,new_val=old_val.slice(0,selectionStart)+e+old_val.slice(selectionEnd),this.value=new_val,do_select)this.selectionStart=selectionStart,this.selectionEnd=selectionStart+e.length;this.focus()}))};function zbscrm_JS_adminMenuDropdown(){if(zbscrm_JS_initMenuPopups(),jQuery((function(){if(1===window.zbscrmjs_hopscotch_virgin&&"undefined"!=typeof hopscotch&&jQuery(".jpcrm-learn-menu-container").length){try{if(null!=hopscotch.getState())hopscotch.endTour()}catch(e){}if(void 0===window.zbscrmjs_hopscotch_squash)hopscotch.startTour(window.zbsTour,0)}})),zbscrm_JS_isCalypso())window.zbscrm_JS_wpwraptop=jQuery("#wpwrap").css("top"),setTimeout((function(){if(!jQuery("#jpcrm-top-menu .logo-cube").hasClass("menu-open"))zbscrm_JS_fullscreenModeOn(jQuery("#jpcrm-top-menu .logo-cube"))}),0);jQuery("#jpcrm-top-menu .logo-cube").off("click").on("click",(function(e){if(!window.zbscrmjs_adminMenuBlocker)if(window.zbscrmjs_adminMenuBlocker=!0,console.log(this),jQuery(this).hasClass("menu-open"))zbscrm_JS_fullscreenModeOn(this);else zbscrm_JS_fullscreenModeOff(this)}))}function zbscrm_JS_fullscreenModeOn(e){if(jQuery("body").addClass("zbs-fullscreen"),jQuery(e).removeClass("menu-open"),jQuery("#wpadminbar, #adminmenuback, #adminmenuwrap, #calypso-sidebar-header").hide(),zbscrm_JS_isCalypso()&&void 0!==window.zbscrm_JS_wpwraptop)jQuery("#wpwrap").css("top",0);if("undefined"!=typeof hopscotch)hopscotch.refreshBubblePosition();var n={action:"zbs_admin_top_menu_save",sec:window.zbscrmjs_topMenuSecToken,hide:1};jQuery.ajax({type:"POST",url:ajaxurl,data:n,dataType:"json",timeout:2e4,success:function(e){window.zbscrmjs_adminMenuBlocker=!1},error:function(e){window.zbscrmjs_adminMenuBlocker=!1}})}function zbscrm_JS_fullscreenModeOff(e){if(jQuery("body").removeClass("zbs-fullscreen"),jQuery(e).addClass("menu-open"),jQuery("#wpadminbar, #adminmenuback, #adminmenuwrap, #calypso-sidebar-header").show(),zbscrm_JS_isCalypso()&&void 0!==window.zbscrm_JS_wpwraptop)jQuery("#wpwrap").css("top",window.zbscrm_JS_wpwraptop);if("undefined"!=typeof hopscotch)hopscotch.refreshBubblePosition();var n={action:"zbs_admin_top_menu_save",sec:window.zbscrmjs_topMenuSecToken,hide:0};jQuery.ajax({type:"POST",url:ajaxurl,data:n,dataType:"json",timeout:2e4,success:function(e){window.zbscrmjs_adminMenuBlocker=!1},error:function(e){window.zbscrmjs_adminMenuBlocker=!1}})}function zbscrm_JS_initMenuPopups(){if(void 0!==jQuery("#jpcrm-user-menu-item").popup)jQuery("#jpcrm-user-menu-item").popup({popup:jQuery("#jpcrm-user-menu"),position:"bottom center",hoverable:!0,on:"hover",delay:{show:50,hide:500}})}function zbscrm_JS_watchInputsAndDirty(){jQuery(".zbs-watch-input").each((function(e,n){var t=jQuery(n).attr("name")+"_dirtyflag";if(jQuery("#"+t).length>0)window.zbscrmjsDirtyLog[t]=jQuery(this).val()})),jQuery(".zbs-watch-input").on("change",(function(){var e=jQuery(this).attr("name")+"_dirtyflag";if(jQuery("#"+e).length>0)if(jQuery(this).val()!=window.zbscrmjsDirtyLog[e])jQuery("#"+e).val("1");else jQuery("#"+e).val("0")}))}function zbscrm_JS_dirtyCatch(){jQuery(".zbs-dc").each((function(e,n){window.zbscrmjsPageData[jQuery(n).attr("name")]=jQuery(this).val()})),jQuery(".zbs-dc").on("change",(function(){if(jQuery(this).val()!=window.zbscrmjsPageData[jQuery(this).attr("name")])zbscrm_JS_addDirty(jQuery(this).attr("name"));else zbscrm_JS_delDirty(jQuery(this).attr("name"))}))}function zbscrm_JS_addDirty(e){window.zbscrmjsPageChanges[e]=1}function zbscrm_JS_delDirty(e){delete window.zbscrmjsPageChanges[e]}function zbscrm_JS_bindDateRangePicker(e){jpcrm_js_bind_datepicker(e),jpcrm_js_bind_daterangepicker(e),jpcrm_js_bind_datetimerangepicker(e),jpcrm_js_bind_datetimepicker(e),jpcrm_js_bind_datetimepicker_future(e)}function jpcrm_js_bind_datepicker(e,n){if("function"==typeof jQuery(".jpcrm-date").daterangepicker){var t={singleDatePicker:!0,showDropdowns:!0,timePicker:!1,locale:{format:"YYYY-MM-DD",cancelLabel:"Clear"}};if(void 0!==window.zbs_root.localeOptions)t.locale=zbscrm_JS_clone(window.zbs_root.localeOptions);if(e)jQuery.extend(t,e);jQuery(".jpcrm-date, .zbs-date").each((function(e,r){var i=zbscrm_JS_clone(t);if(jQuery(r).attr("data-date-picker-format"))i.locale.format=jQuery(r).attr("data-date-picker-format");if(jQuery(r).filter(".jpcrm-empty-start, .zbs-empty-start, .jpcrm-custom-field, .zbs-custom-field").length)i.autoUpdateInput=!1,i.minDate=moment([1900]),i.maxDate=moment().add(50,"years"),jQuery(r).daterangepicker(i,(function(e){this.element.val(e.format(i.locale.format))}));else jQuery(r).daterangepicker(i,n)})),jQuery(".jpcrm-date.jpcrm-empty-start, .jpcrm-date.jpcrm-custom-field, .zbs-date.zbs-empty-start, .zbs-date.zbs-custom-field").on("apply.daterangepicker",(function(e,n){if(""==n.element.val())n.callback(n.startDate)}))}}function jpcrm_js_bind_daterangepicker(e,n){if("function"==typeof jQuery(".jpcrm-date").daterangepicker){var t={alwaysShowCalendars:!0,opens:"left",showDropdowns:!0,timePicker:!1,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},locale:{format:"YYYY-MM-DD",cancelLabel:"Clear"}};if(void 0!==window.zbs_root.localeOptions)t.locale=zbscrm_JS_clone(window.zbs_root.localeOptions);if(e)jQuery.extend(t,e);jQuery(".jpcrm-date-range, .zbs-date-range").each((function(e,r){var i=zbscrm_JS_clone(t);if(jQuery(r).attr("data-date-picker-format"))i.locale.format=jQuery(r).attr("data-date-picker-format");jQuery(r).daterangepicker(i,n)}))}}function jpcrm_js_bind_datetimerangepicker(e,n){if("function"==typeof jQuery(".jpcrm-date").daterangepicker){var t={timePicker:!0,showDropdowns:!0,opens:"left",ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},locale:{format:"YYYY-MM-DD",cancelLabel:"Clear"}};if(void 0!==window.zbs_root.localeOptions)t.locale=zbscrm_JS_clone(window.zbs_root.localeOptions);if(e)jQuery.extend(t,e);if(t.locale.format&&!t.locale.format.includes("hh:mm"))t.locale.format+=" hh:mm A";jQuery(".jpcrm-datetime-range, .zbs-datetime-range").each((function(e,r){var i=zbscrm_JS_clone(t);if(jQuery(r).attr("data-date-picker-format"))i.locale.format=jQuery(r).attr("data-date-picker-format");jQuery(r).daterangepicker(i,n)}))}}function jpcrm_js_bind_datetimepicker(e,n){if("function"==typeof jQuery(".jpcrm-date").daterangepicker){var t={singleDatePicker:!0,timePicker:!0,showDropdowns:!0,locale:{format:"YYYY-MM-DD",cancelLabel:"Clear"}};if(void 0!==window.zbs_root.localeOptions)t.locale=zbscrm_JS_clone(window.zbs_root.localeOptions);if(e)jQuery.extend(t,e);if(t.locale.format&&!t.locale.format.includes("hh:mm"))t.locale.format+=" hh:mm A";jQuery(".jpcrm-date-time, .zbs-date-time").not(".jpcrm-date-time-future").not(".zbs-date-time-future").each((function(e,r){var i=zbscrm_JS_clone(t);if(jQuery(r).attr("data-date-picker-format"))i.locale.format=jQuery(r).attr("data-date-picker-format");jQuery(r).daterangepicker(i,n)}))}}function jpcrm_js_bind_datetimepicker_future(e,n){if("function"==typeof jQuery(".jpcrm-date").daterangepicker){var t={singleDatePicker:!0,timePicker:!0,showDropdowns:!0,locale:{format:"YYYY-MM-DD",cancelLabel:"Clear"},minDate:new Date};if(void 0!==window.zbs_root.localeOptions)t.locale=zbscrm_JS_clone(window.zbs_root.localeOptions);if(e)jQuery.extend(t,e);if(t.locale.format&&!t.locale.format.includes("hh:mm"))t.locale.format+=" hh:mm A";jQuery(".jpcrm-date-time-future, .zbs-date-time-future").not(".zbs-date-time").not(".jpcrm-date-time").each((function(e,r){var i=zbscrm_JS_clone(t);if(jQuery(r).attr("data-date-picker-format"))i.locale.format=jQuery(r).attr("data-date-picker-format");jQuery(r).daterangepicker(i,n)}))}}function zbscrm_JS_bindFieldValidators(){jQuery(".numbersOnly, .jpcrm-inputmask-float").off("keyup").on("keyup",(function(){var e=this.value.replace(/[^-0-9\.]/g,"");if(this.value!=e)this.value=e})),jQuery(".intOnly, .jpcrm-inputmask-int").off("keyup").on("keyup",(function(){var e=this.value.replace(/[^-0-9]/g,"");if(this.value!=e)this.value=e}))}function zbscrm_JS_infoBoxInit(){jQuery(".zbs-infobox").each((function(e,n){var t=jQuery(n).html();jQuery(n).html('<i class="fa fa-info-circle zbs-help-ico"></i><div class="zbs-infobox-detail"></div>'),setTimeout((function(){var e=n;jQuery(".zbs-infobox-detail",jQuery(e)).html(t),jQuery(e).addClass("zbs-live"),setTimeout((function(){jQuery(".zbs-infobox").on("mouseenter",(function(){jQuery("i.zbs-help-ico",jQuery(this)).css("opacity","1"),jQuery(".zbs-infobox-detail",jQuery(this)).show()})).on("mouseleave",(function(){jQuery("i.zbs-help-ico",jQuery(this)).css("opacity","0.6"),jQuery(".zbs-infobox-detail",jQuery(this)).hide()}))}),0)}),0)}))}function zbscrm_JS_Bind_Typeaheads(){zbscrm_JS_Bind_Typeaheads_Customers(),zbscrm_JS_Bind_Typeaheads_Companies(),jpcrm_bind_typeaheads_placeholders()}function zbscrm_JS_Bind_Typeaheads_Customers(){if(jQuery(".zbstypeaheadwrap .zbstypeahead").length>0){var e=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.name)},queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(e){return e.id},prefetch:{url:window.zbscrmBHURLCustomers,ttl:3e5,transform:function(e){return jQuery.map(e,(function(e){return{id:e.id,name:e.name,created:e.created,email:e.email}}))}},remote:{url:window.zbscrmBHURLCustomers+"&s=%QUERY",wildcard:"%QUERY",transform:function(e){return jQuery.map(e,(function(e){return{id:e.id,name:e.name,created:e.created,email:e.email}}))}}});jQuery(".zbstypeaheadwrap .zbstypeahead").each((function(){jQuery(this).typeahead({hint:!0,highlight:!0,minLength:1},{name:"customers",source:e,display:function(e){if(e.name.trim())return e.name;else if(e.email)return e.email;return"Contact #"+e.id},limit:10,templates:{suggestion:function(e){var t=e.name.trim()?e.name:zeroBSCRMJS_globViewLang("contact")+" #"+e.id,r=e.email?n.esc_html(e.email):"<i>no email</i>";return sug='<div class="sug-wrap"><div class="name">'+n.esc_html(t)+'</div><div class="email">'+r+'</div></div><div class="clear"></div>',sug}}}),setTimeout((function(){var e=(new Date).getTime();if(void 0===(n=jQuery(this).attr("data-autokey")))var n="-typeahead";var t="zbsco-"+e+"-"+n;jQuery(".zbstypeahead").attr("autocomplete",t).attr("name",t)}),0),jQuery(this).on("typeahead:open",(function(e,n){var t=(new Date).getTime();if(void 0===(r=jQuery(this).attr("data-autokey")))var r="-typeahead";var i="zbsco-"+t+"-"+r;jQuery(".zbstypeahead").attr("autocomplete",i).attr("name",i)}));var t=jQuery(this).attr("data-zbsopencallback");if("string"==typeof t&&t.length>0)jQuery(this).on("typeahead:select",(function(e,n){var r=t;if("function"==typeof window[r])window[r](n)}));var r=jQuery(this).attr("data-zbschangecallback");if("string"==typeof r&&r.length>0)jQuery(this).on("typeahead:change",(function(e,n){var t=r;if("function"==typeof window[t])window[t](n)}))}))}}function zbscrm_JS_Bind_Typeaheads_Companies(){if(jQuery(".zbstypeaheadwrap .zbstypeaheadco").length>0){var e=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.name)},queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(e){return e.id},prefetch:{url:window.zbscrmBHURLCompanies,ttl:3e5,transform:function(e){return jQuery.map(e,(function(e){var n={id:e.id,name:e.name,created:e.created,email:""};if(void 0!==e.meta&&void 0!==e.meta.email)n.email=e.meta.email;return n}))}},remote:{url:window.zbscrmBHURLCompanies+"&s=%QUERY",wildcard:"%QUERY",transform:function(e){return jQuery.map(e,(function(e){var n={id:e.id,name:e.name,created:e.created,email:""};if(void 0!==e.meta&&void 0!==e.meta.email)n.email=e.meta.email;return n}))}}});jQuery(".zbstypeaheadwrap .zbstypeaheadco").each((function(){jQuery(this).typeahead({hint:!0,highlight:!0,minLength:1},{name:"companies",source:e,display:"name",limit:10}),setTimeout((function(){var e=(new Date).getTime();if(void 0===(n=jQuery(this).attr("data-autokey")))var n="-typeahead";var t="zbsco-"+e+"-"+n;jQuery(".zbstypeaheadco").attr("autocomplete",t).attr("name",t)}),0),jQuery(this).on("typeahead:open",(function(e,n){var t=(new Date).getTime();if(void 0===(r=jQuery(this).attr("data-autokey")))var r="-typeahead";var i="zbsco-"+t+"-"+r;jQuery(".zbstypeaheadco").attr("autocomplete",i).attr("name",i)}));var n=jQuery(this).attr("data-zbsopencallback");if("string"==typeof n&&n.length>0)jQuery(this).on("typeahead:select",(function(e,t){var r=n;if("function"==typeof window[r])window[r](t)}));var t=jQuery(this).attr("data-zbschangecallback");if("string"==typeof t&&t.length>0)jQuery(this).on("typeahead:change",(function(e,n){var r=t;if("function"==typeof window[r])window[r](n)}))}))}}function jpcrm_bind_typeaheads_placeholders(){jQuery(".jpcrm-placeholder-select").off("change").on("change",(function(){var e=jQuery(this).attr("data-target"),n=jQuery(this).val();if(n&&-1!=n&&1==jQuery("#"+e).length)jQuery("#"+e).insertIntoTextArea(n),jQuery("#jpcrm-mail-template-editor-placeholders")[0].selectedIndex=0}))}function zbscrm_JS_clone(e){if(null==e||"object"!=typeof e)return e;var n=e.constructor();for(var t in e)if(e.hasOwnProperty(t))n[t]=e[t];return n}function zbscrmjs_replaceAll(e,n,t){return e.replace(new RegExp(n,"g"),t)}function zeroBSCRMJS_number_format_i18n(e,n){if(void 0===n)n=0;if(void 0!==window.zbswplocale)return zeroBSCRMJS_number_format(e,n,window.zbswplocale.decimal_point,window.zbswplocale.thousands_sep);else return zeroBSCRMJS_number_format(e,n)}function zeroBSCRMJS_number_format(e,n,t,r){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var i=!isFinite(+e)?0:+e,o=!isFinite(+n)?0:Math.abs(n),a=void 0===r?",":r,s=void 0===t?".":t,c="";if(c=(o?function(e,n){var t=Math.pow(10,n);return""+Math.round(e*t)/t}(i,o):""+Math.round(i)).split("."),c[0].length>3)c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a);if((c[1]||"").length<o)c[1]=c[1]||"",c[1]+=new Array(o-c[1].length+1).join("0");return c.join(s)}function zeroBSCRMJS_newWindowCenter(e,n,t,r){var i=null!=window.screenLeft?window.screenLeft:screen.left,o=null!=window.screenTop?window.screenTop:screen.top,a=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-t/2+i,s=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-r/2+o,c=window.open(e,n,"scrollbars=yes, width="+t+", height="+r+", top="+s+", left="+a);if(window&&window.focus)c.focus()}if(Array.prototype.zbsselect=function(e){for(var n=0;n<this.length;n++)if(e(this[n]))return this[n];return null},!Date.now)Date.now=function(){return(new Date).getTime()};function zeroBSCRMJS_bindScreenOptions(){jQuery(".zbs-screenoptions-tablecolumns .ui.checkbox").on("click",(function(){zeroBSCRMJS_saveScreenOptions()})),jQuery("#jpcrm_page_options").off("click").on("click",(function(){if(jQuery("#zbs-screen-options").hasClass("hidden"))jQuery("#zbs-screen-options").removeClass("hidden");else jQuery("#zbs-screen-options").addClass("hidden"),zeroBSCRMJS_saveScreenOptions()}))}function zbsJS_updateScreenOptions(e,n){window.zbscrmjs_screenoptblock=!0;var t={action:"save_zbs_screen_options",sec:window.zbscrmjs_secToken,screenopts:window.zbsScreenOptions,pagekey:window.zbsPageKey};jQuery.ajax({type:"POST",url:ajaxurl,data:t,dataType:"json",timeout:2e4,success:function(n){if(window.zbscrmjs_screenoptblock=!1,"function"==typeof e)e(n)},error:function(e){if(window.zbscrmjs_screenoptblock=!1,"function"==typeof n)n(e)}})}function zeroBSCRMJS_saveScreenOptions(e){if(!window.zbsjsScreenOptsBlock){if(window.zbsjsScreenOptsBlock=!0,void 0!==window.zbsScreenOptions||0==window.zbsScreenOptions)window.zbsScreenOptions={mb_normal:{},mb_side:{},mb_hidden:[],mb_mini:[],pageoptions:[],tablecolumns:{}};zeroBSCRMJS_buildScreenOptionsTableColumns(),zeroBSCRMJS_buildScreenOptionsGenerics(),zbsJS_updateScreenOptions((function(n){if(window.zbsjsScreenOptsBlock=!1,"function"==typeof e)e()}),(function(n){if(window.zbsjsScreenOptsBlock=!1,"function"==typeof e)e()}))}}function zeroBSCRMJS_buildScreenOptionsTableColumns(){return jQuery.each(["transactions"],(function(e,n){var t=[];if(jQuery("#zbs-tablecolumns-"+n+" .zbs-tablecolumn-checkbox").each((function(e,n){if(jQuery(this).checkbox("is checked"))t.push(jQuery(n).attr("data-colkey"))})),void 0===window.zbsScreenOptions.tablecolumns)window.zbsScreenOptions.tablecolumns={};window.zbsScreenOptions.tablecolumns[n]=t})),window.zbsScreenOptions}function zeroBSCRMJS_buildScreenOptionsGenerics(){if(jQuery("#zbs-screenoptions-records-per-page").length>0){var e=parseInt(jQuery("#zbs-screenoptions-records-per-page").val());if(e<1)e=20;if(e>0)window.zbsScreenOptions.perpage=e}return window.zbsScreenOptions}function zeroBSCRMJS_globViewLang(e,n){if(void 0===n)n="";if(void 0!==window.zbs_root.lang&&void 0!==window.zbs_root.lang[e])return window.zbs_root.lang[e];else return n}function zeroBSCRMJS_bindGlobalObjFuncs(){setTimeout((function(){zeroBSCRMJS_bindGlobalContactFuncs()}),500)}function zeroBSCRMJS_bindGlobalContactFuncs(){jQuery("#zbs-contact-action-sendstatement").off("click").on("click",(function(){var e="",n="";if(void 0!==jQuery(this).attr("data-sendto"))e=jQuery(this).attr("data-sendto");if(void 0!==jQuery(this).attr("data-cid"))n=parseInt(jQuery(this).attr("data-cid"));swal({title:'<i class="envelope outline icon"></i> '+zeroBSCRMJS_globViewLang("sendstatement"),html:'<div style="font-size: 1.2em;padding: 0.3em;">'+zeroBSCRMJS_globViewLang("sendstatementaddr")+'<br /><div class="ui input"><input type="text" name="zbs-send-pdf-statement-to-email" id="zbs-send-pdf-statement-to-email" value="'+e+'" placeholder="'+zeroBSCRMJS_globViewLang("enteremail")+'" /></div></div>',type:"",showCancelButton:!0,confirmButtonColor:"#000",cancelButtonColor:"#fff",cancelButtonText:'<span style="color: #000">'+zeroBSCRMJS_globViewLang("cancel")+"</span>",confirmButtonText:zeroBSCRMJS_globViewLang("send")}).then((function(t){if(t.value){var r=n,i=e,o={action:"zbs_invoice_send_statement",sec:window.zbs_root.zbsnonce,cid:r,em:i};jQuery.ajax({type:"POST",url:ajaxurl,data:o,dataType:"json",timeout:2e4,success:function(e){window.zbscrmjs_adminMenuBlocker=!1,swal(zeroBSCRMJS_globViewLang("sent"),zeroBSCRMJS_globViewLang("statementsent"),"success")},error:function(e){window.zbscrmjs_adminMenuBlocker=!1,swal(zeroBSCRMJS_globViewLang("notsent"),zeroBSCRMJS_globViewLang("statementnotsent"),"warning")}})}}))}))}function zeroBSCRMJS_bindGlobalDismiss(){jQuery(".zbs-dismiss").off("click").on("click",(function(e,n){var t=jQuery(this).attr("data-dismiss-key"),r=jQuery(this).attr("data-dismiss-element-id");if(""!==t)if(!window.zbscrmjs_closeLogBlocker){window.zbscrmjs_closeLogBlocker=!0;var i={action:"logclose",sec:window.zbs_root.zbsnonce,closing:t};jQuery.ajax({type:"POST",url:ajaxurl,data:i,dataType:"json",timeout:2e4,success:function(e){jQuery("#"+r).slideUp(),window.zbscrmjs_closeLogBlocker=!1},error:function(e){jQuery("#"+r).slideUp(),window.zbscrmjs_closeLogBlocker=!1}})}}))}function jpcrm_set_jpcrm_transient(e,n,t,r,i,o){if(""!==e&&""!==n)if(!window.jpcrm_set_jpcrm_transient_blocker)window.jpcrm_set_jpcrm_transient_blocker=!0,jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"jpcrmsettransient",sec:e,"transient-key":n,"transient-value":t,"transient-expiration":r},dataType:"json",timeout:2e4,success:function(e){if("function"==typeof i)i(e);return window.jpcrm_set_jpcrm_transient_blocker=!1,!0},error:function(e){if("function"==typeof o)o(e);return window.jpcrm_set_jpcrm_transient_blocker=!1,!1}});return!1}function zbscrm_JS_bindCloseLogs(){jQuery(".zbsCloseThisAndLog").on("click",(function(){var e=jQuery(this).attr("data-closelog");if(""!==e&&!window.zbscrmjs_closeLogBlocker){var n=this;window.zbscrmjs_closeLogBlocker=!0;var t={action:"logclose",sec:window.zbs_root.zbsnonce,closing:e};jQuery.ajax({type:"POST",url:ajaxurl,data:t,dataType:"json",timeout:2e4,success:function(e){jQuery(n).parent().slideUp(),window.zbscrmjs_closeLogBlocker=!1},error:function(e){jQuery(n).parent().slideUp(),window.zbscrmjs_closeLogBlocker=!1}})}}))}function zbscrm_JS_isCalypso(){return jQuery("#calypso-sidebar-header").length}function jpcrm_bind_licensing_modals(){jQuery("#jpcrm-close-licensing-modal").on("click",(function(){jpcrm_set_jpcrm_transient(window.jpcrm_modal_message_licensing_nonce,"jpcrm-license-modal","nag",86400,(function(e){jQuery("#jpcrm-modal-message-licensing").hide()}),(function(e){jQuery("#jpcrm-modal-message-licensing").hide()}))})),jQuery(".jpcrm-licensing-modal-set-transient-and-go").on("click",(function(){var e=jQuery(this).attr("data-href");jpcrm_set_jpcrm_transient(window.jpcrm_modal_message_licensing_nonce,"jpcrm-license-modal","nag",3600,(function(n){window.location=e}),(function(n){window.location=e}))}))}function jpcrm_bind_customfield_csv_builders(){jQuery(".jpcrm-custom-field-builder span").on("click",(function(e){var n=jQuery(e.target).parent().attr("data-target"),t=jQuery(e.target).text(),r=jQuery("#"+n).val(),i=[],o=[];(i=r.split(",")).push(t),jQuery.each(i,(function(e,n){var t=n.trim();if(-1===jQuery.inArray(n,o)&&""!=t)o.push(t)})),jQuery("#"+n).val(o.join(","))}))}function jpcrm_bind_generic_window_opening(){jQuery(".jpcrm-open-popup-href").on("click",(function(){var e=jQuery(this).attr("data-href"),n=jQuery(this).attr("data-title"),t=parseInt(jQuery(this).attr("data-width")),r=parseInt(jQuery(this).attr("data-height"));if(void 0===n)n="";if(void 0===t||t<=0)t=600;if(void 0===r||r<=0)r=600;if(void 0!==e&&""!==e)zeroBSCRMJS_newWindowCenter(e,n,t,r)}))}var n={esc_attr(e){const n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return(e=""+e).replace(/[&<>"']/g,(function(e){return n[e]}))},esc_html:function(e){return this.esc_attr(e)}};if(1)e.exports={jpcrm:n,zbscrmjs_prettifyLongInts:function(e){if(null==e)return 0;else return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},zbscrm_JS_bindFieldValidators:zbscrm_JS_bindFieldValidators,zbscrm_js_uiSpinnerBlocker:function(e){var n='<i class="fa fa-circle-o-notch fa-spin" aria-hidden="true"></i>';if(void 0!==e)n=e;return'<div class="zbsSpinnerBlocker"><div class="zbsSpinnerBG"></div><div class="zbsSpinnerIco">'+n+"</div></div>"},zbscrm_js_getCustInvs:function(e,n,t){if(void 0!==e&&e>0){if(void 0!==window.zbscrm_custcache_invoices[e]){if("function"==typeof n)n(window.zbscrm_custcache_invoices[e]);return window.zbscrm_custcache_invoices[e]}var r={action:"getinvs",sec:window.zbs_root.zbsnonce,cid:e};jQuery.ajax({type:"POST",url:ajaxurl,data:r,dataType:"json",timeout:2e4,success:function(t){if(window.zbscrm_custcache_invoices[e]=t,"function"==typeof n)n(t);return t},error:function(e){if("function"==typeof t)t(e)}})}else if("function"==typeof t)t({fail:1});return!1},zbscrm_JS_validateEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},zbscrmjs_permify:function(e){var n=zbscrmjs_replaceAll(e," ","_");return(n=zbscrmjs_replaceAll(n,":","_")).toLowerCase()},zbscrmjs_nl2br:function(e,n){return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(n||void 0===n?"<br />":"<br>")+"$2")},zbscrmjs_reversenl2br:function(e,n){var t="";if(void 0!==n)t="\r\n";return e.split("<br />").join(t)},ucwords:function(e){return(e+"").replace(/^([a-z\u00E0-\u00FC])|\s+([a-z\u00E0-\u00FC])/g,(function(e){return e.toUpperCase()}))},jpcrm_abbreviate_str:function(e,n,t,r){if("number"==typeof e)e=e.toString();if(e!=e.replace(/(<([^>]+)>)/gi,""))switch(r){case"return":return e;case"strip":e=e.replace(/(<([^>]+)>)/gi,"")}if(e.length<=n)return e;else return e.substr(0,e.lastIndexOf(" ",n))+t},empty:function(e){return!e||0===e.length},zeroBSCRMJS_telURLFromNo:function(e){if(void 0!==window.zbsClick2CallType)if(2==window.zbsClick2CallType)return"callto:"+e;return"tel:"+e},zeroBSCRMJS_isArray:function(e){return!!e&&e.constructor===Array},zeroBSCRMJS_ucwords:function(e){return(e+"").replace(/^([a-z])|\s+([a-z])/g,(function(e){return e.toUpperCase()}))},jpcrm_strip_trailing_slashes:function(e){return e.replace(/\/+$/,"")},zeroBSCRMJS_formatCurrency:function(e){var n="en-US";if(void 0!==window.zbs_root&&void 0!==window.zbs_root.locale)n=window.zbs_root.locale;if(""!=n)return n=n.replace(/_/,"-"),new Intl.NumberFormat(n,{style:"currency",currency:window.zbs_root.currencyOptions.currencyStr,minimumFractionDigits:window.zbs_root.currencyOptions.noOfDecimals}).format(e);return window.zbs_root.currencyOptions.symbol+zeroBSCRMJS_number_format_i18n(e)},zeroBSCRMJS_extend:function(e,n){for(var t in n)if(n.hasOwnProperty(t))e[t]=n[t];return e},zeroBSCRMJS_retrieveURLS:function(e){return/^(https?:\/\/|www\.)\w+(\.\w+)*?(\/[^\s]*)?$/g.exec(e)},jpcrm_looks_like_URL:function(e){return null!==e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g)},zeroBSCRMJS_retrieveEmails:function(e){return e.match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi)},zeroBSCRMJS_genericLoaded:function(){jQuery(".empty-container-with-spinner").hide(),jQuery(".zbs-generic-loaded").show()},zeroBSCRMJS_genericPostData:function(e,n,t){var r=jQuery('<form id="mapform" action="'+e+'" method="'+n.toLowerCase()+'"></form>');for(var i in t)if(t.hasOwnProperty(i))r.append('<input type="hidden" name="'+i+'" id="'+i+'" value="'+t[i]+'" />');jQuery("body").append(r),r.submit()},jpcrm_sleep:function(e){return new Promise((n=>setTimeout(n,e)))},zbsJS_updateScreenOptions:zbsJS_updateScreenOptions,zeroBSCRMJS_obj_viewLink:function(e,n){if(void 0!==e&&""!=e&&void 0!==n&&""!=n)if(void 0!==window.zbs_root.links&&void 0!==window.zbs_root.links.generic_view)return window.zbs_root.links.generic_view.replace("_TYPE_",e)+n;return"#pagenotfound"},zeroBSCRMJS_obj_editLink:function(e,n){if(void 0!==e&&""!=e&&void 0!==n&&""!=n)if(void 0!==window.zbs_root.links&&void 0!==window.zbs_root.links.generic_edit)return window.zbs_root.links.generic_edit.replace("_TYPE_",e)+n;return"#pagenotfound"},jpcrm_set_jpcrm_transient:jpcrm_set_jpcrm_transient,jpcrm_js_bind_daterangepicker:jpcrm_js_bind_daterangepicker,zeroBSCRMJS_globViewLang:zeroBSCRMJS_globViewLang,jpcrm_strip_scripts:function(e){var n=document.createElement("div");n.innerHTML=e;for(var t=n.getElementsByTagName("script"),r=t.length;r--;)t[r].parentNode.removeChild(t[r]);return n.innerHTML},zbscrm_JS_DAL:function(){var e=2;if(void 0!==zbs_root.dal)e=parseInt(zbs_root.dal);return e},zbscrmjs_adminMenuBlocker:!1,zbscrmjsDirtyLog:{},zbscrmjsPageData:{},zbscrmjsPageChanges:{},zbscrm_custcache_invoices:{},zbsAJAXRestRetrieve:!1,zbscrmjs_closeLogBlocker:!1,zbsjsScreenOptsBlock:!1,zbscrmjs_screenoptblock:!1,zbscrm_JS_addDirty:zbscrm_JS_addDirty,jpcrm_dismiss_woo_notice:jpcrm_dismiss_woo_notice,jpcrm_dismiss_tracking_notice:jpcrm_dismiss_tracking_notice,jpcrm_dismiss_feature_alert:jpcrm_dismiss_feature_alert,zbscrm_JS_momentInit:zbscrm_JS_momentInit,zbscrm_JS_adminMenuDropdown:zbscrm_JS_adminMenuDropdown,zbscrm_JS_fullscreenModeOn:zbscrm_JS_fullscreenModeOn,zbscrm_JS_fullscreenModeOff:zbscrm_JS_fullscreenModeOff,zbscrm_JS_initMenuPopups:zbscrm_JS_initMenuPopups,zbscrm_JS_watchInputsAndDirty:zbscrm_JS_watchInputsAndDirty,zbscrm_JS_dirtyCatch:zbscrm_JS_dirtyCatch,zbscrm_JS_delDirty:zbscrm_JS_delDirty,zbscrm_JS_bindDateRangePicker:zbscrm_JS_bindDateRangePicker,jpcrm_js_bind_datepicker:jpcrm_js_bind_datepicker,jpcrm_js_bind_datetimerangepicker:jpcrm_js_bind_datetimerangepicker,jpcrm_js_bind_datetimepicker:jpcrm_js_bind_datetimepicker,jpcrm_js_bind_datetimepicker_future:jpcrm_js_bind_datetimepicker_future,zbscrm_JS_infoBoxInit:zbscrm_JS_infoBoxInit,zbscrm_JS_infoBoxInit:zbscrm_JS_infoBoxInit,zbscrm_JS_Bind_Typeaheads:zbscrm_JS_Bind_Typeaheads,zbscrm_JS_Bind_Typeaheads_Customers:zbscrm_JS_Bind_Typeaheads_Customers,zbscrm_JS_Bind_Typeaheads_Companies:zbscrm_JS_Bind_Typeaheads_Companies,jpcrm_bind_typeaheads_placeholders:jpcrm_bind_typeaheads_placeholders,zbscrm_JS_clone:zbscrm_JS_clone,zbscrmjs_replaceAll:zbscrmjs_replaceAll,zeroBSCRMJS_telLinkFromNo:function(e,n,t){return'<a href="tel:'+e+'" class="'+t+'">'+n+"</a>"},zeroBSCRMJS_number_format_i18n:zeroBSCRMJS_number_format_i18n,zeroBSCRMJS_number_format:zeroBSCRMJS_number_format,zeroBSCRMJS_htmlEncode:function(e){return jQuery("<div/>").text(e).html()},zeroBSCRMJS_htmlDecode:function(e){return jQuery("<div/>").html(e).text()},zeroBSCRMJS_newWindow:function(e,n,t,r){if(void 0===t)t=600;if(void 0===r)r=600;if(newwindow=window.open(e,n,"height="+t+",width="+r),window.focus)newwindow.focus();return!1},zeroBSCRMJS_newWindowCenter:zeroBSCRMJS_newWindowCenter,parseDate:function(e){var n=e.split("/");return new Date(n[2],n[0]-1,n[1])},daydiff:function(e,n){return Math.round((n-e)/864e5)},zbsJS_semanticPercBar:function(e,n,t){if(""!=typeof n)n=" "+n;else n="";var r='<div class="ui progress'+n+'"><div class="bar"';if(void 0!==e)r+=' style="width:'+e+'%"';if(r+='><div class="progress">',void 0!==e)r+=e+"%";if(r+="</div></div>",void 0!==t)r+='<div class="label">'+t+"</div>";return r+"</div>"},zbsJS_uts:function(){return Math.floor(Date.now()/1e3)},zeroBSCRMJS_bindScreenOptions:zeroBSCRMJS_bindScreenOptions,zeroBSCRMJS_saveScreenOptions:zeroBSCRMJS_saveScreenOptions,zeroBSCRMJS_buildScreenOptionsTableColumns:zeroBSCRMJS_buildScreenOptionsTableColumns,zeroBSCRMJS_buildScreenOptionsGenerics:zeroBSCRMJS_buildScreenOptionsGenerics,zeroBSCRMJS_rest_retrieveCompany:function(e,n,t){if(void 0!==e&&void 0!==window.zbscrmBHURLCompanies){window.zbsAJAXRestRetrieve=!0;var r=window.zbscrmBHURLCompanies+"&id="+e;jQuery.ajax({type:"GET",url:r,timeout:1e4,success:function(e){if(window.zbsAJAXRestRetrieve=!1,"function"==typeof n)n(e);return!0},error:function(e){if(window.zbsAJAXRestRetrieve=!1,"function"==typeof t)t(e);return!1}})}},zeroBSCRMJS_bindGlobalObjFuncs:zeroBSCRMJS_bindGlobalObjFuncs,zeroBSCRMJS_bindGlobalContactFuncs:zeroBSCRMJS_bindGlobalContactFuncs,zeroBSCRMJS_bindGlobalDismiss:zeroBSCRMJS_bindGlobalDismiss,zbscrm_JS_bindCloseLogs:zbscrm_JS_bindCloseLogs,zbscrm_JS_isCalypso:zbscrm_JS_isCalypso,jpcrm_bind_licensing_modals:jpcrm_bind_licensing_modals,jpcrm_bind_customfield_csv_builders:jpcrm_bind_customfield_csv_builders,jpcrm_bind_generic_window_opening:jpcrm_bind_generic_window_opening}}},n={};var t=function __webpack_require__(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,__webpack_require__),i.exports}(195),r=window="undefined"==typeof window?{}:window;for(var i in t)r[i]=t[i];if(t.__esModule)Object.defineProperty(r,"__esModule",{value:!0})})();