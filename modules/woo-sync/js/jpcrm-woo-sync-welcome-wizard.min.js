/*! For license information please see jpcrm-woo-sync-welcome-wizard.min.js.LICENSE.txt */
(()=>{var e={};const o=0;function jpcrm_woosync_update_details(){window.jpcrm_woo_options.jpcrm_wcdomain=jQuery("#jpcrm_wcdomain").val(),window.jpcrm_woo_options.jpcrm_wckey=jQuery("#jpcrm_wckey").val(),window.jpcrm_woo_options.jpcrm_wcsecret=jQuery("#jpcrm_wcsecret").val(),window.jpcrm_woo_options.jpcrm_wcprefix=jQuery("#jpcrm_wcprefix").val(),window.jpcrm_woo_options.jpcrm_wcinv=jQuery("#jpcrm_wcinv").is(":checked")?1:0,window.jpcrm_woo_options.jpcrm_wctagcust=jQuery("#jpcrm_wctagcust").is(":checked")?1:0,window.jpcrm_woo_options.jpcrm_wcacc=jQuery("#jpcrm_wcacc").is(":checked")?1:0}jQuery(document).ready((function(){jQuery("#external-install").hide(),jQuery("#back-to-setup-type").on("click",(function(){jQuery("#step-1-button").click()})),jQuery("#back-to-api-info").on("click",(function(){jQuery("#step-2-button").click()})),jQuery("#back-to-options").on("click",(function(){jQuery("#step-3-button").click()})),jQuery(".choose .btn").on("click",(function(){window.jpcrm_woo_options.jpcrm_wcsetuptype=jQuery(this).data("setup"),jQuery("#jpcrm-woo-setup-"+o+" .selected").show(),jQuery("#jpcrm-woo-setup-"+o+" .choose").hide(),1==o?(jQuery("#jpcrm-woo-setup-0 .choose").show(),jQuery("#jpcrm-woo-setup-0 .selected").hide(),jQuery("#sc-0").removeClass("setup-selected"),jQuery("#sc-1").addClass("setup-selected"),jQuery("#external-install").show(),jQuery("#same-install").hide()):(jQuery("#jpcrm-woo-setup-1 .choose").show(),jQuery("#jpcrm-woo-setup-1 .selected").hide(),jQuery("#sc-1").removeClass("setup-selected"),jQuery("#sc-0").addClass("setup-selected"),jQuery("#external-install").hide(),jQuery("#same-install").show())}));const e=jQuery("div.setup-panel div a"),r=jQuery(".setup-content"),t=jQuery(".nextBtn"),s=(jQuery(".backBtn"),jQuery(".stepwizard-step"));r.hide(),e.on("click",(function(o){o.preventDefault();const c=jQuery(jQuery(this).attr("href")),t=jQuery(this);t.hasClass("disabled")||(e.removeClass("btn-primary").addClass("btn-default"),t.addClass("btn-primary"),r.hide(),c.show(),c.find("input:eq(0)").trigger("focus"))})),s.on("click",(function(){jpcrm_woosync_update_details()})),t.on("click",(function(){let e=jQuery(this).closest(".setup-content"),o=e.attr("id"),r=jQuery('div.setup-panel div a[href="#'+o+'"]').parent().next().children("a"),c=e.find("input[type='text'],input[type='url']"),t=!0;jQuery(".form-group").removeClass("has-error");for(let e=0;e<c.length;e++)c[e].validity.valid||(t=!1,jQuery(c[e]).closest(".form-group").addClass("has-error"));t&&r.prop("disabled",!1).trigger("click")})),jQuery("div.setup-panel div a.btn-primary").trigger("click"),jQuery(".jpcrm-gogogo").off("click").on("click",(function(e){if(jpcrm_woosync_update_details(),jQuery(this).hasClass("disabled"))return!1;jQuery(this).addClass("disabled");const o=window.jpcrm_woo_options;o.action="jpcrm_woosync_wizard_finished",o.security=jQuery("#jpcrm-woo-wizard-ajax-nonce").val(),jQuery(".laststage").hide(),jQuery(".finishingupblock").show(),jQuery(".finishblock").hide(),(c=jQuery.ajax({url:window.ajaxurl,type:"POST",data:o,dataType:"json"})).done((function(e){jQuery(".laststage").hide(),jQuery(".finishingupblock").hide(),jQuery(".finishblock").show()})),c.fail((function(e){jQuery(".laststage").hide(),jQuery(".finishingupblock").hide(),jQuery(".finishblock").show()}))}))}));var r=window="undefined"==typeof window?{}:window;for(var c in e)r[c]=e[c];e.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();